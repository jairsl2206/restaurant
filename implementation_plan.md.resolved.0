# Plan de Implementación: Sistema de Gestión de Pedidos

Este documento describe el plan técnico para construir la aplicación web de gestión de pedidos para un restaurante de comida rápida.

## Objetivo
Crear una aplicación web moderna, rápida y estéticamente agradable para gestionar el ciclo de vida de los pedidos en un restaurante pequeño.

## Solicitud de Revisión de Usuario
> [!IMPORTANT]
> **Stack Tecnológico**: Se propone usar **Node.js** con **Express** para el backend y **SQLite** para la base de datos (local, sin configuración compleja). Para el frontend, usaremos **React** con **Vite** para una experiencia moderna y reactiva.
> ¿Está de acuerdo con este stack?

## Cambios Propuestos

### Estructura del Proyecto
El proyecto se organizará en una estructura monorepo simple:
- `/server`: Código del backend API
- `/client`: Código del frontend React
- `database.sqlite`: Archivo de base de datos local

### Backend (Node.js + Express)
#### [NEW] [server/index.js](file:///c:/Users/Jair/Documents/Restaurant/server/index.js)
- Servidor HTTP principal.
- Configuración de Middleware (CORS, JSON parsing).

#### [NEW] [server/db.js](file:///c:/Users/Jair/Documents/Restaurant/server/db.js)
- Conexión a SQLite.
- Definición de tablas:
    - `users` (id, username, password_hash, role)
    - `orders` (id, description, status, table_number, total, created_at)
    - `order_items` (id, order_id, item_name, quantity, price)

#### [NEW] [server/routes.js](file:///c:/Users/Jair/Documents/Restaurant/server/routes.js)
- `POST /api/login`: Autenticación de meseros.
- `GET /api/orders`: Obtener pedidos activos.
- `POST /api/orders`: Crear nuevo pedido.
- `PUT /api/orders/:id/status`: Actualizar estado (Creado -> Cocina -> Servido -> Pagado).

### Frontend (React + Vite)
#### [NEW] [client/](file:///c:/Users/Jair/Documents/Restaurant/client)
- Generado con `npm create vite@latest`.

#### [NEW] [client/src/App.jsx](file:///c:/Users/Jair/Documents/Restaurant/client/src/App.jsx)
- Enrutamiento principal (Login vs Dashboard).

#### [NEW] [client/src/components/OrderCard.jsx](file:///c:/Users/Jair/Documents/Restaurant/client/src/components/OrderCard.jsx)
- Componente visual para mostrar un pedido.
- Botones para avanzar el estado del pedido.
- Estilizado con CSS moderno (Glassmorphism, colores vibrantes).

### Base de Datos
- **SQLite** será usado por su simplicidad (archivo local `restaurant.db`). No requiere servidor separado.

## Plan de Verificación

### Pruebas Manuales
1. **Login**: Intentar loguearse con usuario correcto e incorrecto.
2. **Crear Pedido**: Registrar un pedido para una mesa y verificar que aparece en la lista "Pendiente".
3. **Flujo de Estado**: Mover un pedido por todos los estados y verificar cambios en UI y DB.
4. **Persistencia**: Reiniciar el servidor y verificar que los pedidos siguen ahí.
